WindowManager:
    id: window_manager
    HomePage:
        manager: window_manager
    IDPage:
        manager: window_manager
    MachinePage:
        manager: window_manager
    QueuePage:
        manager: window_manager

<HomePage>:
    name:"Home"

    GridLayout:
        cols:1
        Label:
            font_size: 60
            text:"Welcome to GymNow!"
        
        GridLayout:
            cols:2
            Label:
                text:"Place Card on Reader to Begin"
            Button:
                text:"Next"
                on_release:
                    app.root.current = "ID"
                    root.next_button()
                    root.manager.transition.direction="left"

<IDPage>:
    name:"ID"
    ti_card: ti_card_id
    ti_sutdid: ti_sutdid_id
   
    GridLayout:
        cols:1
        
        GridLayout:
            cols:2
            
            Label:
                text:"Card:"
            TextInput:
                id: ti_card_id
                multiline: False
                text: ''
                
            Label:
                text:"SUTD ID:"
            TextInput:
                id: ti_sutdid_id
                multiline: False
                text: ''
                
            Button:
                text:"Check Database"
                on_release: root.checkdb_button()

            Button:
                text: "Proceed"
                color: 0,1,0,1
                size_hint:0.3,0.2
                on_release: 
                    app.root.current = "Machine"
                    root.manager.transition.direction = "left"
                    root.proceed_button()
                  
<MachinePage>:
    name:"Machine"

    GridLayout:
        cols:2
        Label:
            font_size: 40
            text:"Choose One\nMachine!"

        GridLayout:
            cols:1

            Button:
                id: dl_button
                text:"Deadlift"
                on_press:
                    root.change_dlcolor()
            Button:
                id: b_button
                text:"Bench"
                on_press:
                    root.change_bcolor()
            Button:
                id: s_button
                text:"Squat"
                on_press:
                    root.change_scolor()
                    
        Label:
            text: "Enter Duration:"
        
        TextInput:
            id: ti_duration
            text:''
            
        Button:
            text: "Go Back"
            on_release: 
                app.root.current = "ID"
                root.manager.transition.direction = "right"
                   
        Button:
            text:"Book"
            on_release:
                root.book_button()
                app.root.current = "Queue"
                root.manager.transition.direction = "left"
                
<QueuePage>:
    name: "Queue"
    
    GridLayout:
        cols: 1
        
        Label:
            text: root.booking_notice
            
        Button:
            text: "Print Booking Notice"
            on_release: root.print_booking()
        Button:
            text: "Go Back"
            on_release: 
                app.root.current = "Machine"
                root.manager.transition.direction = "right"
    